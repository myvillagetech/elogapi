"use strict";(self.webpackChunkelog_web=self.webpackChunkelog_web||[]).push([[217],{4217:(F,p,e)=>{e.r(p),e.d(p,{CompanySettingsModule:()=>A});var r=e(6895),c=e(3060),a=e(4006),t=e(4650),l=e(2653),y=e(2133),S=e(2126),d=e(4859),C=e(7392),g=e(9549),v=e(4144),i=e(3848);function f(n,m){1&n&&(t.TgZ(0,"div",10)(1,"mat-icon"),t._uU(2,"business"),t.qZA(),t._uU(3," My Company "),t.qZA())}const h=[{path:"",component:(()=>{class n{constructor(o,s,u,U){this.formBuilder=o,this.alertpopupService=s,this.eventCommunicationsService=u,this.companySettingsService=U}ngOnInit(){this.generateNewCompanySettingsForm(),this.getCompanySettings()}generateNewCompanySettingsForm(){this.companySettingsForm=this.formBuilder.group({name:["",[a.kI.required]],isActive:["",[a.kI.required]]})}getCompanySettings(){this.companySettingsService.getCompanySettings().subscribe(o=>{this.companySettingsData=o,this.companySettingsForm.controls.name.setValue(this.companySettingsData.companySettings[0].name)})}onUpdate(){this.companySettingsService.updateCompanySettings(this.companySettingsData.companySettings[0]._id,{name:this.companySettingsForm.value.name,isActive:!0}).subscribe(s=>{s.success&&(this.eventCommunicationsService.broadcast("RELOAD_NAME",s.companySettings.name),this.alertpopupService.open({message:s.message,action:"ok"}))},s=>{this.alertpopupService.open({message:s.message?s.message:"something went wrong!",action:"ok"})})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(a.qu),t.Y36(l.z),t.Y36(y.G),t.Y36(S.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-company-settings"]],decls:17,vars:1,consts:[["label","My Company "],["mat-tab-label",""],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"d-flex","justify-content-start"],["appearance","outline"],["matInput","","input","","type","text","formControlName","name"],[1,"d-flex","justify-content-center"],["mat-button",""],["type","submit",1,"btn","btn-success"],[1,"d-flex","align-items-center","gap-1"]],template:function(o,s){1&o&&(t.TgZ(0,"mat-tab-group")(1,"mat-tab",0),t.YNc(2,f,4,0,"ng-template",1),t.TgZ(3,"div",2)(4,"form",3),t.NdJ("ngSubmit",function(){return s.onUpdate()}),t.TgZ(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),t._uU(8,"Company Name"),t.qZA(),t._UZ(9,"input",6),t.qZA(),t._UZ(10,"br"),t.qZA(),t.TgZ(11,"div",7)(12,"button",8),t._uU(13,"Cancel"),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"button",9),t._uU(16,"Update"),t.qZA()()()()()()),2&o&&(t.xp6(4),t.Q6J("formGroup",s.companySettingsForm))},dependencies:[d.lW,C.Hw,g.KE,g.hX,v.Nt,i.SP,i.uD,i.uX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u]}),n})()}];let Z=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.Bz.forChild(h),c.Bz]}),n})();var b=e(1252);let A=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[r.ez,Z,b.m,a.UX]}),n})()}}]);