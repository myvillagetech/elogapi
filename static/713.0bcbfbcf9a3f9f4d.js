"use strict";(self.webpackChunkelog_web=self.webpackChunkelog_web||[]).push([[713],{713:(H,g,o)=>{o.r(g),o.d(g,{ArchiveModule:()=>L});var m=o(6895),u=o(3060),v=o(5017),a=o(3626),p=o(7030),t=o(4650),_=o(3248);let f=(()=>{class e{constructor(n){this.httpDataService=n}getArchiveActivities(){return this.httpDataService.get("activity/archive/activities")}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(_.L))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var A=o(4859),C=o(3546),T=o(6709),x=o(7392),d=o(8255),h=o(3848);function b(e,i){1&e&&(t.TgZ(0,"div",17)(1,"mat-icon"),t._uU(2,"assignment"),t.qZA(),t._uU(3," Tasks "),t.qZA())}function Z(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"th",18)(1,"mat-checkbox",19),t.NdJ("change",function(l){t.CHM(n);const r=t.oxw();return t.KtG(l?r.masterToggle():null)}),t.qZA(),t.TgZ(2,"button",20)(3,"mat-icon"),t._uU(4,"arrow_drop_down"),t.qZA()()()}if(2&e){const n=t.oxw(),c=t.MAs(26);t.xp6(1),t.Q6J("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&!n.isAllSelected()),t.xp6(1),t.Q6J("disabled",0===n.selection.selected.length)("matMenuTriggerFor",c)}}function k(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",21)(1,"mat-checkbox",22),t.NdJ("click",function(l){return l.stopPropagation()})("change",function(l){const s=t.CHM(n).$implicit,I=t.oxw();return t.KtG(l?I.selection.toggle(s):null)}),t.qZA()()}if(2&e){const n=i.$implicit,c=t.oxw();t.xp6(1),t.Q6J("checked",c.selection.isSelected(n))}}function S(e,i){1&e&&(t.TgZ(0,"th",18),t._uU(1," Activity "),t.qZA())}function y(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",23),t.NdJ("click",function(){const r=t.CHM(n).$implicit,s=t.oxw();return t.KtG(s.navigateToActivityDetails(r._id))}),t._uU(1),t.qZA()}if(2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.uniqIdentity?n.uniqIdentity:n.createdByOrganizationData[0].shortName," ")}}function D(e,i){1&e&&(t.TgZ(0,"th",18),t._uU(1," Title "),t.qZA())}function w(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",23),t.NdJ("click",function(){const r=t.CHM(n).$implicit,s=t.oxw();return t.KtG(s.navigateToActivityDetails(r._id))}),t._uU(1),t.qZA()}if(2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.title," ")}}function M(e,i){1&e&&(t.TgZ(0,"th",24),t._uU(1," Status "),t.qZA())}const N=function(e,i,n,c){return{"badge-not-admissible":e,"badge-resolved":i,"badge-in-progress":n,"badge-new":c}};function O(e,i){if(1&e&&(t.TgZ(0,"td",25)(1,"span",26),t._uU(2),t.ALo(3,"titlecase"),t.qZA()()),2&e){const n=i.$implicit;t.xp6(1),t.Q6J("ngClass",t.l5B(4,N,"rejected"==(null==n?null:n.status.toLowerCase()),"resolved"==(null==n?null:n.status.toLowerCase()),"inprogress"==(null==n?null:n.status.toLowerCase()),"new"==(null==n?null:n.status.toLowerCase()))),t.xp6(1),t.hij(" ",t.lcZ(3,2,n.status)," ")}}function U(e,i){1&e&&(t.TgZ(0,"th",18),t._uU(1," Organisation "),t.qZA())}function Y(e,i){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij("",n.createdByOrganizationData[0].organization," ")}}function J(e,i){1&e&&t._UZ(0,"tr",27)}function P(e,i){1&e&&t._UZ(0,"tr",28)}function F(e,i){1&e&&(t.TgZ(0,"div")(1,"mat-card",29),t._uU(2," No Archived Activities found "),t.qZA()())}function Q(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",30),t.NdJ("click",function(){t.CHM(n);const l=t.oxw();return t.KtG(l.logSelection())}),t.TgZ(1,"mat-icon"),t._uU(2,"attachment"),t.qZA(),t._uU(3," Files "),t.qZA()}}function z(e,i){1&e&&(t.TgZ(0,"div")(1,"mat-card",29),t._uU(2," No Files found "),t.qZA()())}const B=[{path:"",component:(()=>{class e{constructor(n,c){this.archiveService=n,this.router=c,this.archiveActivitiesList=[],this.taskDisplayedColumns=["checkbox","Activity","Title","Status","Organisation"],this.fileDisplayedColumns=["Activity","FileName","Size","Organization"],this.dataSource=new a.by(this.archiveActivitiesList),this.selection=new v.Ov(!0,[])}ngOnInit(){this.getArchiveActivities()}getArchiveActivities(){this.archiveService.getArchiveActivities().subscribe(n=>{this.archiveActivitiesList=n.data,this.dataSource=new a.by(this.archiveActivitiesList)})}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(n=>this.selection.select(n))}logSelection(){this.selection.selected.forEach(n=>{})}navigateToActivityDetails(n){this.router.navigate([p.p.ACTIVITY_DETAILS],{queryParams:{aId:n}})}archiveActionClick(n){}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(f),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-archive"]],decls:37,vars:5,consts:[["mat-tab-label",""],["mat-table","",1,"mat-elevation-z8","archiveTable",3,"dataSource"],["matColumnDef","checkbox"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Activity"],["mat-cell","","class","cursor",3,"click",4,"matCellDef"],["matColumnDef","Title"],["matColumnDef","Status"],["mat-header-cell","","class","status-badge",4,"matHeaderCellDef"],["mat-cell","","class","status-badge",4,"matCellDef"],["matColumnDef","Organisation"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"d-flex","align-items-center","gap-1"],["mat-header-cell",""],[3,"checked","indeterminate","change"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"disabled","matMenuTriggerFor"],["mat-cell",""],[3,"checked","click","change"],["mat-cell","",1,"cursor",3,"click"],["mat-header-cell","",1,"status-badge"],["mat-cell","",1,"status-badge"],[1,"badge",3,"ngClass"],["mat-header-row",""],["mat-row",""],[1,"noTask-message"],[1,"d-flex","align-items-center","gap-1",3,"click"]],template:function(n,c){1&n&&(t.TgZ(0,"mat-tab-group")(1,"mat-tab"),t.YNc(2,b,4,0,"ng-template",0),t.TgZ(3,"table",1),t.ynx(4,2),t.YNc(5,Z,5,4,"th",3),t.YNc(6,k,2,1,"td",4),t.BQk(),t.ynx(7,5),t.YNc(8,S,2,0,"th",3),t.YNc(9,y,2,1,"td",6),t.BQk(),t.ynx(10,7),t.YNc(11,D,2,0,"th",3),t.YNc(12,w,2,1,"td",6),t.BQk(),t.ynx(13,8),t.YNc(14,M,2,0,"th",9),t.YNc(15,O,4,9,"td",10),t.BQk(),t.ynx(16,11),t.YNc(17,U,2,0,"th",3),t.YNc(18,Y,2,1,"td",4),t.BQk(),t.YNc(19,J,1,0,"tr",12),t.YNc(20,P,1,0,"tr",13),t.qZA(),t.YNc(21,F,3,0,"div",14),t.qZA(),t.TgZ(22,"mat-tab"),t.YNc(23,Q,4,0,"ng-template",0),t.YNc(24,z,3,0,"div",14),t.qZA()(),t.TgZ(25,"mat-menu",null,15)(27,"button",16),t.NdJ("click",function(){return c.archiveActionClick("Restore")}),t.TgZ(28,"mat-icon"),t._uU(29,"refresh"),t.qZA(),t.TgZ(30,"span"),t._uU(31,"Restore"),t.qZA()(),t.TgZ(32,"button",16),t.NdJ("click",function(){return c.archiveActionClick("Remove")}),t.TgZ(33,"mat-icon"),t._uU(34,"delete"),t.qZA(),t.TgZ(35,"span"),t._uU(36,"Remove"),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("dataSource",c.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",c.taskDisplayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",c.taskDisplayedColumns),t.xp6(1),t.Q6J("ngIf",0===(null==c.dataSource||null==c.dataSource.filteredData?null:c.dataSource.filteredData.length)),t.xp6(3),t.Q6J("ngIf",0===(null==c.dataSource||null==c.dataSource.filteredData?null:c.dataSource.filteredData.length)))},dependencies:[m.mk,m.O5,A.lW,C.a8,T.oG,x.Hw,d.VK,d.OP,d.p6,a.BZ,a.fO,a.as,a.w1,a.Dz,a.nj,a.ge,a.ev,a.XQ,a.Gk,h.SP,h.uD,h.uX,m.rS],styles:[".archiveTable[_ngcontent-%COMP%]{width:100%}th[_ngcontent-%COMP%]{background-color:#f0f0f0;font-size:1em}.badge[_ngcontent-%COMP%], .badge-resolved[_ngcontent-%COMP%], .badge-not-admissible[_ngcontent-%COMP%], .badge-in-progress[_ngcontent-%COMP%], .badge-new[_ngcontent-%COMP%]{width:100px;color:#fff;text-align:center;padding:5px 9px;letter-spacing:.1em;font-weight:500;font-size:12px;border-radius:0;text-transform:capitalize}.badge-new[_ngcontent-%COMP%]{background-color:#ffae3ee0}.badge-in-progress[_ngcontent-%COMP%]{background-color:#012970c2}.badge-not-admissible[_ngcontent-%COMP%]{background-color:#ff4b3edb}.badge-resolved[_ngcontent-%COMP%]{background-color:#4bec81}.cursor[_ngcontent-%COMP%]{cursor:pointer}.noTask-message[_ngcontent-%COMP%]{text-align:center;color:#e90e0e}"]}),e})()}];let R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(B),u.Bz]}),e})();var q=o(1252);let L=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,R,q.m]}),e})()}}]);