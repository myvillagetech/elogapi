"use strict";(self.webpackChunkelog_web=self.webpackChunkelog_web||[]).push([[376],{376:(Yt,b,l)=>{l.r(b),l.d(b,{UserModule:()=>yt});var d=l(6895),S=l(4006),_=l(3060),m=l(8202);var s=l(3626),x=l(8739);const z={pageSize:10,pageSizeOptions:[5,10,20]};var T=l(4025),t=l(4650),h=l(1584),P=l(8552),N=l(8276),w=l(9690),y=l(9642),p=l(5938),A=l(5017),f=l(2653),U=l(4859),g=l(3546),O=l(6709);function I(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"th",16)(1,"mat-checkbox",17),t.NdJ("change",function(a){t.CHM(e);const r=t.oxw();return t.KtG(a?r.toggleAllRows():null)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function L(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",18)(1,"mat-checkbox",19),t.NdJ("click",function(a){return a.stopPropagation()})("change",function(a){const c=t.CHM(e).$implicit,u=t.oxw();return t.KtG(a?u.selection.toggle(c):null)}),t.qZA()()}if(2&n){const e=o.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function k(n,o){1&n&&(t.TgZ(0,"th",16),t._uU(1,"Organization"),t.qZA())}function Y(n,o){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(null==e?null:e.organization)}}function D(n,o){1&n&&t._UZ(0,"tr",20)}function R(n,o){1&n&&t._UZ(0,"tr",21)}let q=(()=>{class n{constructor(e,i,a,r){this.userService=e,this.alertpopupService=i,this.dialogref=a,this.data=r,this.orgnizationsData=[],this.dataSource=new s.by(this.orgnizationsData),this.selection=new A.Ov(!0,[]),this.displayedColumns=["select","Organization"],this.organizationIDs=[],this.userPayload={pageNumber:0,pageSize:50,sortField:"",sortOrder:0,type:"",isActive:!0,role:"",userId:"",user:""},console.log(r),this.selectedUser=r}ngOnInit(){this.userSearchCriteria(this.userPayload)}userSearchCriteria(e){e.userId=this.selectedUser._id,e.userId&&this.userService.userSearchCriteria(e).subscribe(i=>{this.orgnizationsData=i.users[0].users[0].organizationsdata,this.dataSource=new s.by(this.orgnizationsData)})}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}removeOrganization(){this.selection.selected.map(i=>{this.organizationIDs.push(i._id)}),this.userService.removeOrganizationsfromUser({userId:this.selectedUser._id,organizationIds:this.organizationIDs}).subscribe(i=>{this.alertpopupService.open({message:"Organization removed successfully.",action:"ok"}),this.userSearchCriteria(this.userPayload)},i=>{this.alertpopupService.open({message:"Faild to remove users from Organization! Please try again ",action:"ok"})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.K),t.Y36(f.z),t.Y36(p.so),t.Y36(p.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-remove-org-pop-up"]],decls:24,vars:4,consts:[[1,"d-flex","justify-content-between"],[1,"user"],["mat-button","","color","warn","mat-dialog-close","true"],[1,"row"],[1,"col-12"],["mat-dialog-content",""],["mat-table","",2,"padding-right","10px","width","100%",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Organization"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"d-flex","btn","justify-content-end"],["mat-raised-button","","mat-dialog-close","true"],["mat-raised-button","","color","primary","mat-dialog-close","true",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card-title",0)(1,"h1",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2),t._uU(4,"x"),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"div",3)(7,"div",4)(8,"div",5)(9,"table",6),t.ynx(10,7),t.YNc(11,I,2,3,"th",8),t.YNc(12,L,2,2,"td",9),t.BQk(),t.ynx(13,10),t.YNc(14,k,2,0,"th",8),t.YNc(15,Y,2,1,"td",9),t.BQk(),t.YNc(16,D,1,0,"tr",11),t.YNc(17,R,1,0,"tr",12),t.qZA()(),t.TgZ(18,"mat-card-actions")(19,"div",13)(20,"button",14),t._uU(21,"Cancel"),t.qZA(),t.TgZ(22,"button",15),t.NdJ("click",function(){return i.removeOrganization()}),t._uU(23," Remove "),t.qZA()()()()()()),2&e&&(t.xp6(2),t.hij("Remove Organization > ",i.selectedUser.Name,""),t.xp6(7),t.Q6J("dataSource",i.dataSource),t.xp6(7),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[U.lW,g.dn,g.n5,g.hq,O.oG,p.ZT,p.xY,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk]}),n})(),M=(()=>{class n{constructor(e){this.matDialog=e}removeOrgPopUp(e){return this.matDialog.open(q,{disableClose:!0,minWidth:"800px",data:e})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(p.uw))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var J=l(7199),Z=l(7331);function Q(n,o){if(1&n&&(t.TgZ(0,"mat-chip"),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(e.organization)}}function F(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"th",21)(1,"mat-checkbox",22),t.NdJ("change",function(a){t.CHM(e);const r=t.oxw();return t.KtG(a?r.toggleAllRows():null)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function $(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"td",23)(1,"mat-checkbox",24),t.NdJ("click",function(a){return a.stopPropagation()})("change",function(a){const c=t.CHM(e).$implicit,u=t.oxw();return t.KtG(a?u.selection.toggle(c):null)}),t.qZA()()}if(2&n){const e=o.$implicit,i=t.oxw();t.xp6(1),t.Q6J("checked",i.selection.isSelected(e))("aria-label",i.checkboxLabel(e))}}function E(n,o){1&n&&(t.TgZ(0,"th",21),t._uU(1,"Organization"),t.qZA())}function H(n,o){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(null==e?null:e.organization)}}function G(n,o){1&n&&(t.TgZ(0,"th",21),t._uU(1,"ShortName"),t.qZA())}function j(n,o){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(null==e?null:e.shortName)}}function B(n,o){1&n&&t._UZ(0,"tr",25)}function K(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"tr",26),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.selection.toggle(r))}),t.qZA()}}function V(n,o){1&n&&(t.TgZ(0,"th",21),t._uU(1,"Assigned Project(s)"),t.qZA())}function W(n,o){if(1&n&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Oqu(null==e?null:e.organization)}}function X(n,o){1&n&&t._UZ(0,"tr",25)}function tt(n,o){1&n&&t._UZ(0,"tr",27)}let et=(()=>{class n{constructor(e,i,a,r,c){this.userService=e,this.organizationService=i,this.alertpopupService=a,this.dialogref=r,this.data=c,this.organizations=[],this.displayedColumns=["select","organization","shortName"],this.displayedOrgColumns=["organization"],this.selection=new A.Ov(!0,[]),this.dataSource=new s.by(this.organizations),this.assignOrgs=[],this.selectedUser=c}ngOnInit(){this.getOrganizations()}getOrganizations(){this.userService.getOrganisation().subscribe(e=>{this.organizations=e.organizations,this.dataSource=new s.by(this.organizations),console.log(this.organizations)})}addOrganisation(){this.organizationService.openCreateOrganizatioPopup().afterClosed().subscribe(e=>{console.log(e)})}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(e){return e?`${this.selection.isSelected(e)?"deselect":"select"} row ${e.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}assignProjects(){this.selection._selected.length>0&&(this.assignOrgs=[],this.selection._selected.forEach(e=>{this.assignOrgs.push({id:e._id,organization:e.organization})}))}assign(){var e=[];this.selection.selected.map(a=>{e.push(a._id)}),this.userService.addUsersToOrganizationsfromUser({userId:this.selectedUser._id,organizationIds:e}).subscribe(a=>{a.success&&(this.alertpopupService.open({message:"Organization(s) assigned successfully.",action:"ok"}),this.getOrganizations())},a=>{this.alertpopupService.open({message:"Faild to assign Organization(s)! Please try again ",action:"ok"})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.K),t.Y36(J.M),t.Y36(f.z),t.Y36(p.so),t.Y36(p.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-assign-organization-pop-up"]],decls:38,vars:8,consts:[[1,"d-flex","justify-content-between"],[1,"user"],["mat-button","","color","primary",1,"addButton",3,"click"],[1,"row"],[1,"col-md-7"],["mat-dialog-content",""],[4,"ngFor","ngForOf"],["mat-table","",1,"mat-elevation-z8","userTable",2,"padding-right","10px","width","100%",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","organization"],["matColumnDef","shortName"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"col-md-5"],["mat-table","",1,"mat-elevation-z8","userTable",3,"dataSource"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"d-flex","btn","justify-content-end"],["mat-raised-button","","mat-dialog-close","true"],["mat-raised-button","","color","primary",3,"click"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-row",""],["mat-row","",3,"click"],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card-title",0)(1,"h1",1),t._uU(2),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return i.addOrganisation()}),t._uU(4," Add Organisation "),t.qZA()(),t.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"mat-card-content")(9,"mat-chip-list"),t.YNc(10,Q,2,1,"mat-chip",6),t.qZA(),t.TgZ(11,"table",7),t.ynx(12,8),t.YNc(13,F,2,3,"th",9),t.YNc(14,$,2,2,"td",10),t.BQk(),t.ynx(15,11),t.YNc(16,E,2,0,"th",9),t.YNc(17,H,2,1,"td",10),t.BQk(),t.ynx(18,12),t.YNc(19,G,2,0,"th",9),t.YNc(20,j,2,1,"td",10),t.BQk(),t.YNc(21,B,1,0,"tr",13),t.YNc(22,K,1,0,"tr",14),t.qZA()()()(),t.TgZ(23,"div",15)(24,"table",16),t.ynx(25,11),t.YNc(26,V,2,0,"th",9),t.YNc(27,W,2,1,"td",10),t.BQk(),t.YNc(28,X,1,0,"tr",13),t.YNc(29,tt,1,0,"tr",17),t.qZA()()(),t.TgZ(30,"mat-card-actions")(31,"div",18)(32,"button",19),t._uU(33,"Cancel"),t.qZA(),t.TgZ(34,"button",20),t.NdJ("click",function(){return i.assign()}),t._uU(35," Assign "),t.qZA(),t.TgZ(36,"button",20),t.NdJ("click",function(){return i.assignProjects()}),t._uU(37," Assign & Continue "),t.qZA()()()),2&e&&(t.xp6(2),t.hij("Assign Organization > ",i.selectedUser.Name,""),t.xp6(8),t.Q6J("ngForOf",i.selection.selected),t.xp6(1),t.Q6J("dataSource",i.dataSource),t.xp6(10),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(2),t.Q6J("dataSource",i.assignOrgs),t.xp6(4),t.Q6J("matHeaderRowDef",i.displayedOrgColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedOrgColumns))},dependencies:[d.sg,U.lW,g.dn,g.n5,g.hq,O.oG,Z.qn,Z.HS,p.ZT,p.xY,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk],styles:[".userTable[_ngcontent-%COMP%]{width:100%}.userTable[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{background-color:#818dcf;color:#fff}.userTable[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{background:whitesmoke}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;text-align:left;border-bottom:1px solid rgb(206,202,202)}"]}),n})(),nt=(()=>{class n{constructor(e){this.matDialog=e}assignOrgPopUp(e){return this.matDialog.open(et,{data:e,minWidth:"800px"})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(p.uw))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var it=l(7392),C=l(3848);function ot(n,o){if(1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"person_pin"),t.qZA(),t._uU(2," Active ( "),t.TgZ(3,"span"),t._uU(4),t.qZA(),t._uU(5,") ")),2&n){const e=t.oxw();t.xp6(4),t.Oqu(null==e.usersList?null:e.usersList.length)}}function at(n,o){if(1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"person_outline"),t.qZA(),t._uU(2," Admin ( "),t.TgZ(3,"span"),t._uU(4),t.qZA(),t._uU(5,") ")),2&n){const e=t.oxw();t.xp6(4),t.Oqu(null==e.usersList?null:e.usersList.length)}}function st(n,o){if(1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"people"),t.qZA(),t._uU(2," Ministry/Department ( "),t.TgZ(3,"span"),t._uU(4),t.qZA(),t._uU(5,") ")),2&n){const e=t.oxw();t.xp6(4),t.Oqu(null==e.usersList?null:e.usersList.length)}}function rt(n,o){if(1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"group_add"),t.qZA(),t._uU(2," Association ( "),t.TgZ(3,"span"),t._uU(4),t.qZA(),t._uU(5,") ")),2&n){const e=t.oxw();t.xp6(4),t.Oqu(null==e.usersList?null:e.usersList.length)}}function lt(n,o){if(1&n&&(t.TgZ(0,"mat-icon"),t._uU(1,"not_interested"),t.qZA(),t._uU(2," Disabled ( "),t.TgZ(3,"span"),t._uU(4),t.qZA(),t._uU(5,") ")),2&n){const e=t.oxw();t.xp6(4),t.Oqu(null==e.usersList?null:e.usersList.length)}}function ct(n,o){1&n&&(t.TgZ(0,"th",17),t._uU(1," Name "),t.qZA())}function pt(n,o){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.Name," ")}}function ut(n,o){1&n&&(t.TgZ(0,"th",17),t._uU(1," Email "),t.qZA())}function mt(n,o){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.hij(" ",e.email," ")}}function gt(n,o){1&n&&(t.TgZ(0,"th",17),t._uU(1," Organizations "),t.qZA())}function dt(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" +",e.organizationsdata.length-1," More")}}function _t(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.YNc(2,dt,2,1,"span",19),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",null==e||null==e.organizationsdata[0]?null:e.organizationsdata[0].organization,"... "),t.xp6(1),t.Q6J("ngIf",(null==e.organizationsdata?null:e.organizationsdata.length)>1)}}function ht(n,o){1&n&&(t.TgZ(0,"div")(1,"span"),t._uU(2,"N/A"),t.qZA()())}function ft(n,o){if(1&n&&(t.TgZ(0,"td",18),t.YNc(1,_t,3,2,"div",19),t.YNc(2,ht,3,0,"div",19),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",(null==e.organizationsdata?null:e.organizationsdata.length)>0),t.xp6(1),t.Q6J("ngIf",0===(null==e.organizationsdata?null:e.organizationsdata.length))}}function Ut(n,o){1&n&&(t.TgZ(0,"th",20),t._uU(1," Actions "),t.qZA())}function Ct(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",1),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.editUser(a._id))}),t._uU(1,"Edit"),t.qZA()}}function bt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.disableOrenableUser(a._id,!1))}),t._uU(1,"Disable"),t.qZA()}}function vt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.disableOrenableUser(a._id,!0))}),t._uU(1,"Enable"),t.qZA()}}function xt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.removeOrganisation(a))}),t._uU(1,"Remove Organisation"),t.qZA()}}function Tt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",29),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.assignOrganisation(a))}),t._uU(1,"Assign Organisation \xa0 "),t.qZA()}}function At(n,o){if(1&n&&(t.TgZ(0,"div",22),t.YNc(1,Ct,2,0,"button",23),t.YNc(2,bt,2,0,"button",24),t.YNc(3,vt,2,0,"button",24),t.YNc(4,xt,2,0,"button",25),t.YNc(5,Tt,2,0,"button",26),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.isActive),t.xp6(1),t.Q6J("ngIf",e.isActive),t.xp6(1),t.Q6J("ngIf",!e.isActive),t.xp6(1),t.Q6J("ngIf",(null==e.organizationsdata?null:e.organizationsdata.length)>0&&e.isActive),t.xp6(1),t.Q6J("ngIf",0===(null==e.organizationsdata?null:e.organizationsdata.length))}}function Ot(n,o){if(1&n&&(t.TgZ(0,"td",18),t.YNc(1,At,6,5,"div",21),t.qZA()),2&n){const e=o.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.loginUserID!==e._id)}}function Zt(n,o){1&n&&t._UZ(0,"tr",30)}function St(n,o){1&n&&t._UZ(0,"tr",31)}const zt=[{path:"",component:(()=>{class n{constructor(e,i,a,r,c,u,It,Lt,kt){this.userService=e,this.addNewUserService=i,this.profileService=a,this.storageService=r,this.router=c,this.confirmationDialogService=u,this.removeOrgPopUpService=It,this.alertpopupService=Lt,this.assignOrganizationPopUpService=kt,this.usersList=[],this.filters=m.t,this.customPage=z,this.userPayload={pageNumber:0,pageSize:50,sortField:"",sortOrder:0,type:"",isActive:!0,role:"",userId:"",user:""},this.displayedColumns=["Name","Email","Organization","Actions"],this.dataSource=new s.by(this.usersList)}ngOnInit(){this.userSearchCriteria(this.userPayload)}userSearchCriteria(e){this.userService.userSearchCriteria(e).subscribe(i=>{this.usersList=i.users[0].users,this.dataSource=new s.by(this.usersList),this.dataSource.paginator=this.paginator})}get loginUserID(){return this.storageService.getDataFromLocalStorage(T.I.USER_ID)}editUser(e){this.addNewUserService.openUpdateUserPopup(e).afterClosed().subscribe(i=>{this.userSearchCriteria(this.userPayload)})}assignOrganisation(e){this.assignOrganizationPopUpService.assignOrgPopUp(e).afterClosed().subscribe(i=>{i&&this.userSearchCriteria(this.userPayload)})}removeOrganisation(e){this.removeOrgPopUpService.removeOrgPopUp(e).afterClosed().subscribe(i=>{i&&this.userSearchCriteria(this.userPayload)})}disableOrenableUser(e,i){var a={isActive:i};this.confirmationDialogService.open({message:i?"Are you sure want to enable!!":"Are you sure want to disable!!"}).afterClosed().subscribe(r=>{r&&this.profileService.inActiveUser(e,a).subscribe(c=>{this.alertpopupService.open({message:i?"User enabled successfully":"User disabled successfully",action:"ok"});let u=this.userPayload;u={...u,isActive:!i},this.userSearchCriteria(u)})})}AddUser(){this.addNewUserService.openAddUser()}updateUserDetails(e){this.profileService.getUsersBySearchCriteria(e).subscribe(i=>{this.usersList=i.users[0].users})}applyUserFilters(e){let i=this.userPayload;if(Number(e.tab.textLabel)===m.t.IS_ACTIVE)i={...i,isActive:!0};else if(Number(e.tab.textLabel)===m.t.MY_PROFILE){var a=this.storageService.getDataFromLocalStorage(T.I.USER_ID);i={...i,isActive:!0,userId:a}}else Number(e.tab.textLabel)===m.t.INACTIVE?i={...i,isActive:!1}:Number(e.tab.textLabel)===m.t.MINISTRIES?i={...i,isActive:!0,type:"63973bfb61ab6f49bfdd3c35"}:Number(e.tab.textLabel)===m.t.ASSOCIATION&&(i={...i,isActive:!0,type:"63973c8961ab6f49bfdd3c38"});this.userSearchCriteria(i)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}onChangedPageSize(e){console.log(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.K),t.Y36(P.E),t.Y36(N.H),t.Y36(w.V),t.Y36(_.F0),t.Y36(y.O),t.Y36(M),t.Y36(f.z),t.Y36(nt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-list"]],viewQuery:function(e,i){if(1&e&&t.Gf(x.NW,5),2&e){let a;t.iGM(a=t.CRH())&&(i.paginator=a.first)}},decls:32,vars:11,consts:[[1,"text-end"],["mat-raised-button","","color","primary",3,"click"],[3,"selectedTabChange"],[3,"label"],["mat-tab-label",""],["mat-table","",1,"mat-elevation-z8","userTable",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Email"],["matColumnDef","Organization"],["matColumnDef","Actions"],["class","action-center","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSize","length","pageSizeOptions","page"],["paginator",""],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["mat-header-cell","",1,"action-center"],["class","d-flex",4,"ngIf"],[1,"d-flex"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","accent",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return i.AddUser()}),t._uU(2,"Add Users"),t.qZA()(),t.TgZ(3,"mat-tab-group",2),t.NdJ("selectedTabChange",function(r){return i.applyUserFilters(r)}),t.TgZ(4,"mat-tab",3),t.YNc(5,ot,6,1,"ng-template",4),t.qZA(),t.TgZ(6,"mat-tab",3),t.YNc(7,at,6,1,"ng-template",4),t.qZA(),t.TgZ(8,"mat-tab",3),t.YNc(9,st,6,1,"ng-template",4),t.qZA(),t.TgZ(10,"mat-tab",3),t.YNc(11,rt,6,1,"ng-template",4),t.qZA(),t.TgZ(12,"mat-tab",3),t.YNc(13,lt,6,1,"ng-template",4),t.qZA()(),t.TgZ(14,"table",5),t.ynx(15,6),t.YNc(16,ct,2,0,"th",7),t.YNc(17,pt,2,1,"td",8),t.BQk(),t.ynx(18,9),t.YNc(19,ut,2,0,"th",7),t.YNc(20,mt,2,1,"td",8),t.BQk(),t._uU(21," Weight Column "),t.ynx(22,10),t.YNc(23,gt,2,0,"th",7),t.YNc(24,ft,3,2,"td",8),t.BQk(),t.ynx(25,11),t.YNc(26,Ut,2,0,"th",12),t.YNc(27,Ot,2,1,"td",8),t.BQk(),t.YNc(28,Zt,1,0,"tr",13),t.YNc(29,St,1,0,"tr",14),t.qZA(),t.TgZ(30,"mat-paginator",15,16),t.NdJ("page",function(r){return i.onChangedPageSize(r)}),t.qZA()),2&e&&(t.xp6(4),t.s9C("label",i.filters.IS_ACTIVE),t.xp6(2),t.s9C("label",i.filters.MY_PROFILE),t.xp6(2),t.s9C("label",i.filters.MINISTRIES),t.xp6(2),t.s9C("label",i.filters.ASSOCIATION),t.xp6(2),t.s9C("label",i.filters.INACTIVE),t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(14),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("pageSize",i.customPage.pageSize)("length",i.usersList.length)("pageSizeOptions",i.customPage.pageSizeOptions))},dependencies:[d.O5,U.lW,it.Hw,x.NW,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,C.SP,C.uD,C.uX],styles:[".userTable[_ngcontent-%COMP%]{width:100%}.userTable[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{background-color:#818dcf;color:#fff}.userTable[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{background:whitesmoke}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px;text-align:left;border-bottom:1px solid rgb(206,202,202)}.mat-raised-button[_ngcontent-%COMP%] ~ .mat-raised-button[_ngcontent-%COMP%]{margin-left:10px}.d-flex[_ngcontent-%COMP%]{float:right}.action-center[_ngcontent-%COMP%]{text-align:center}"]}),n})()}];let Pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_.Bz.forChild(zt),_.Bz]}),n})();var Nt=l(8210),wt=l(9411);let yt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,S.UX,Pt,Nt.m,wt.OrganizationModule]}),n})()}}]);